(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"/xH7":function(t,e,n){"use strict";var a=n("QWYf");n.n(a).a},J2qo:function(t,e,n){},QWYf:function(t,e,n){},TZe8:function(t,e,n){"use strict";n.r(e);n("TP9o");var a=n("K7Fj"),i=(n("vgXN"),n("QoiM")),o=(n("kpaA"),n("Q+x8")),r=(n("gJGO"),n("iLNi")),c=(n("uErz"),n("ogYY")),s=(n("ul/Q"),n("8DuP")),l=(n("CqKt"),n("FLOZ")),u=(n("hGoy"),n("Ledl")),p=(n("XkPB"),n("cpGq")),d=n("cLjf"),f=n.n(d),g=n("unDg"),h=n.n(g),b=n("bS4n"),_=n.n(b),v=n("hDQ3"),w=n.n(v),m=(n("OM4U"),n("bNK8")),C={name:"tableLayout",components:{ATable:p.a,APagination:m.a},props:{slots:{type:Array,default:function(){return[]}},url:{type:String,default:""},addition:{type:Object,default:function(){return{}}},batchOptions:{type:Array,default:function(){return[]}}},data:function(){return{loading:!1,data:[],pagination:{pageSize:10,current:1,total:0}}},created:function(){this.getPageList()},methods:{getPageList:function(){var n=this;return w()(f.a.mark(function t(){var e;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.loading=!0,e=_()({},n.addition,{length:n.pagination.pageSize,page_no:n.pagination.current}),t.next=4,n.$fetch[n.url](e).then(function(t){if(t.data_0&&t.data_1){var e=[[].concat(h()(t.data_0)),t.data_1.count,!1];n.data=e[0],n.pagination.total=e[1],n.loading=e[2]}}).catch(function(t){n.$message.error(t.error_message||"加载失败！"),n.loading=!1});case 4:case"end":return t.stop()}},t,n)}))()},change:function(t,e){var n=[e,t];this.pagination.pageSize=n[0],this.pagination.current=n[1],this.getPageList(e,t)}}},y=(n("/xH7"),n("ZpG+")),S={components:{tableLayout:Object(y.a)(C,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"searchBar"},[e("div",{staticClass:"search"},[a._t("search")],2),e("div",{staticClass:"button"},[a._t("button")],2)]),e("div",{staticClass:"pageList"},[e("div",{staticClass:"batch"},[a._v("批量操作："),a._l(a.batchOptions,function(t){return e("span",{key:t.key,staticClass:"batch-option",on:{click:t.method}},[a._v(a._s(t.label))])})],2),e("a-table",a._g(a._b({staticClass:"table-body",attrs:{dataSource:a.data,pagination:!1,loading:a.loading},scopedSlots:a._u([a._l(a.slots,function(n){return{key:n,fn:function(t,e){return[a._t(n,null,{code:t,recode:e})]}}}),{key:"action",fn:function(t,e){return[a._t("action",null,{code:t,recode:e})]}}],null,!0)},"a-table",a.$attrs,!1),a.$listeners)),e("a-pagination",{staticClass:"pagination",attrs:{pageSizeOptions:["10","20","50","100","200"],size:"small",pageSize:a.pagination.pageSize,showSizeChanger:"",current:a.pagination.current,total:a.pagination.total,showTotal:function(t){return"共 "+t+" 条"}},on:{change:a.change,showSizeChange:a.change}})],1)])},[],!1,null,"d2553390",null).exports,ATable:p.a,ASelect:u.b,ASelectOption:u.b.Option,ARangePicker:l.a.RangePicker,AButton:s.a,ATextarea:c.a.TextArea,AModal:r.a,AInput:c.a,AInputSearch:c.a.Search,ACol:o.a,ARow:i.a,AList:a.b,AlistItem:a.b.Item},data:function(){return{options:[{value:"1",label:"1"}],addition:{search_key:"",script_template_code:""},columns:[{title:"序号",dataIndex:"serial_number"},{title:"所属账号",dataIndex:"userName"},{title:"朋友圈内容",dataIndex:"previewCircleOfFriends",scopedSlots:{customRender:"previewCircleOfFriends"}},{title:"创建时间",dataIndex:"createTime"},{title:"状态",dataIndex:"planStatus"},{title:"操作",scopedSlots:{customRender:"action"}}],slots:["previewCircleOfFriends"],batchOptions:[{key:"reflush",label:"刷新",method:this.reflushMethod}]}},methods:{onChangeRange:function(){},reflushMethod:function(){},previewCircleRow:function(){},reportRow:function(){},viewRow:function(){},deleteRow:function(){},onChangeSelect:function(){},onSearch:function(){this.$refs.table.getPageList()}}},k=(n("y/nl"),Object(y.a)(S,function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"container"},[a("table-layout",{ref:"table",attrs:{batchOptions:n.batchOptions,slots:n.slots,rowKey:"script_template_name",addition:n.addition,columns:n.columns,url:"query_script_template"},scopedSlots:n._u([{key:"previewCircleOfFriends",fn:function(e){return[a("span",{staticClass:"operation-button",on:{click:function(t){return n.previewCircleRow(e)}}},[n._v("查看")])]}},{key:"action",fn:function(e){return[a("span",{staticClass:"operation-button",on:{click:function(t){return n.reportRow(e)}}},[n._v("报表")]),a("span",{staticClass:"operation-button",on:{click:function(t){return n.viewRow(e)}}},[n._v("任务详情")]),a("span",{staticClass:"operation-button red",on:{click:function(t){return n.deleteRow(e)}}},[n._v("删除")])]}}])},[a("template",{slot:"search"},[a("a-input-search",{staticStyle:{width:"200px","margin-right":"15px"},attrs:{placeholder:"请输入朋友圈内容"}}),a("a-range-picker",{on:{change:n.onChangeRange}}),a("a-select",{staticStyle:{width:"200px","margin-left":"15px"},attrs:{placeholder:"所属账号"},on:{change:n.onChangeSelect}},n._l(n.options,function(t,e){return a("a-select-option",{key:e,attrs:{value:t.value}},[n._v(n._s(t.label))])}),1)],1)],2)],1)},[],!1,null,"2c8573d1",null));e.default=k.exports},"y/nl":function(t,e,n){"use strict";var a=n("J2qo");n.n(a).a}}]);